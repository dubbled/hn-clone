(this["webpackJsonphn-clone"]=this["webpackJsonphn-clone"]||[]).push([[0],{46:function(e,t,n){e.exports=n(75)},51:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(51);var i=n(45),s=n(80),l=n(79),u=n(81),E=n(78),S=n(11),p=n(13),d=n.n(p),m=n(22),f=n(36),h=n(37),O=n(38),T=n.n(O),g=function(){function e(){var t=this;Object(f.a)(this,e),this.client=T.a.create({baseURL:"https://hacker-news.firebaseio.com/v0"}),this.topStories=Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.client.get("/topstories".concat(".json?print=pretty")));case 1:case"end":return e.stop()}}),e)}))),this.storyByID=function(){var e=Object(m.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.client.get("/item/".concat(n).concat(".json?print=pretty")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(h.a)(e,[{key:"construcor",value:function(){}}]),e}(),_={FETCH_IDS_REQUEST:"".concat("FETCH","/IDS REQUEST"),FETCH_IDS_SUCCESS:"".concat("FETCH","/IDS SUCCESS"),FETCH_IDS_ERROR:"".concat("FETCH","/IDS ERROR"),FETCH_STORIES_REQUEST:"".concat("FETCH","/STORIES REQUEST"),FETCH_STORIES_SUCCESS:"".concat("FETCH","/STORIES SUCCESS"),FETCH_STORIES_ERROR:"".concat("FETCH","/STORIES ERROR"),APP_PAGE_GOTO:"".concat("APP","/SET PAGE")},C=new g,I=function(e,t){return{type:e,payload:t}},v={FetchIDs:function(e){return function(t){return t(I(_.FETCH_IDS_REQUEST,e)),C.topStories().then((function(n){e.storyIDs=n.data.map((function(e){return e.toString()})),t(I(_.FETCH_IDS_SUCCESS,e.storyIDs)),t(v.FetchStories(e))})).catch((function(e){return t(I(_.FETCH_IDS_ERROR,e))}))}},FetchStories:function(e){return function(t){var n=e.pageMax,a=e.storyIDs,r=e.page;void 0===n&&(n=20);var c=(r-1)*n,o=c+n;o>a.length&&(o=a.length-1);var i=a.slice(c,o);return t(I(_.FETCH_STORIES_REQUEST,{slice:i})),Promise.all(i.map((function(e){return C.storyByID(e)}))).then((function(e){t(I(_.FETCH_STORIES_SUCCESS,{stories:e.map((function(e){return e.data})),page:r,pageMax:n}))})).catch((function(e){t(I(_.FETCH_STORIES_ERROR,e))}))}},Navigate:function(e){return function(t){var n=e.page;0===e.stories[n-1].length&&t(v.FetchStories(e)),t(I(_.APP_PAGE_GOTO,{page:n}))}}},R=function(e){return{state:{data:e.data,app:e.app}}},b=Object(S.b)(R)((function(e){var t=e.state.data,n=t.storyIDs,a=t.stories,c=e.state.app.page,o=function(t){e.dispatch(v.Navigate({storyIDs:n,stories:a,page:t}))},l=function(){return 1===c},u=function(){return c===a.length};return r.a.createElement("div",null,a[c-1].map((function(e){return r.a.createElement(i.a,{onClick:function(){return window.open(e.url)},className:"listItem",key:e.id},r.a.createElement("h5",null,e.title),r.a.createElement("span",null,"(",void 0===(t=e.url)?"news.ycombinator.com":t.split("/")[2],")"),r.a.createElement("p",null,e.score," points by ",e.by," | ",e.descendants," comments"));var t})),r.a.createElement(i.a,{className:"listItem"},r.a.createElement(s.a,null,r.a.createElement(s.a.First,{onClick:function(){return o(1)},disabled:l()}),r.a.createElement(s.a.Prev,{onClick:function(){return o(c-1)},disabled:l()}),r.a.createElement(s.a.Item,{active:!0},c),r.a.createElement(s.a.Next,{onClick:function(){return o(c+1)},disabled:u()}),r.a.createElement(s.a.Last,{onClick:function(){return o(a.length)},disabled:u()}))))})),y=function(e){return r.a.createElement("div",{id:"container"},e.children)},F=Object(S.b)(R)((function(e){return r.a.createElement(l.a,{sticky:"top",bg:"dark",variant:"dark"},r.a.createElement(l.a.Brand,null,"HackerNews"))})),D=Object(S.b)(R)((function(e){var t=e.state.data,n=t.isLoading,a=(t.stories,e.state.app.page),c=0===e.state.data.storyIDs.length;return!n&&c&&e.dispatch(v.FetchIDs({page:1})),c||n?r.a.createElement("div",{className:"App"},r.a.createElement(F,null),r.a.createElement(y,null,r.a.createElement(u.a,null,r.a.createElement(u.a.Item,{className:"listItem"},r.a.createElement(E.a,{className:"spinner",animation:"border"}))))):r.a.createElement("div",{className:"App"},r.a.createElement(F,null),r.a.createElement(y,null,r.a.createElement(u.a,null,r.a.createElement(b,{currentPage:a}))))})),H=n(9),j=n(44),w=n(6),k={isLoading:!1,storyIDs:[],stories:[],pageMax:20},U={page:1},P=Object(H.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.APP_PAGE_GOTO:var n=t.payload.page;return Object(w.a)(Object(w.a)({},e),{},{page:n});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.FETCH_IDS_REQUEST:return Object(w.a)(Object(w.a)({},e),{},{isLoading:!0});case _.FETCH_IDS_SUCCESS:return Object(w.a)(Object(w.a)({},e),{},{storyIDs:t.payload});case _.FETCH_STORIES_REQUEST:return Object(w.a)(Object(w.a)({},e),{},{isLoading:!0});case _.FETCH_STORIES_SUCCESS:var n=t.payload,a=n.page,r=n.stories,c=e.storyIDs,o=e.pageMax,i=e.stories,s=Math.floor(c.length/o);if(c.length%o!==0&&s++,i.length<s)for(var l=0;l<s;l++)i[l]=[];return i[a-1]=r,Object(w.a)(Object(w.a)({},e),{},{isLoading:!1,stories:i});default:return e}}}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d,A=Object(H.e)(P,void 0,N(Object(H.a)(j.a)));o.a.render(r.a.createElement("div",null,r.a.createElement(S.a,{store:A},r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.86590f4d.chunk.js.map